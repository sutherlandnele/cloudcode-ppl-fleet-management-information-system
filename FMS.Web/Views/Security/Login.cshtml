@using FMS.Web.ViewModels
@using FMS.Web.CustomHTMLHelpers

@model LoginViewModel
@{
    ViewBag.Title = "Login";
    Layout = null;  //do not include layout view
    Session.Clear(); //remove all previous session variables
}

<!DOCTYPE html>
<html lang="en">
<head>
    <title>@ViewBag.Title | PPL FMS</title>

    @{
        var culture = System.Globalization.CultureInfo.CurrentCulture.ToString();
    }
    @Styles.Render("~/Content/css")
 
    <link rel="stylesheet" type="text/css" href="~/Content/fontawesome/css/all.min.css" media="screen" />
    @Styles.Render("~/Content/kendo/css")
    @Scripts.Render("~/bundles/jquery")

    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>
    @Scripts.Render("~/bundles/kendo")
    @Scripts.Render("~/Scripts/site.js")

    <script src="@Url.Content("~/Scripts/kendo/cultures/kendo.culture." + culture + ".min.js")"></script>
    <script type="text/javascript">
        kendo.culture("@culture");
    </script>

    <!--App object stores all global variables for the app. This is seen by site.js as well. -->
    <script type="text/javascript">
        var App = {};
    </script>

    <!-- Meta tag Keywords -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <style>
        /* reset */
        html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, dl, dt, dd, ol, nav ul, nav li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
            margin: 0;
            padding: 0;
            border: 0;
            font-size: 100%;
            font: inherit;
            vertical-align: baseline;
        }

        article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {
            display: block;
        }

        ol, ul {
            list-style: none;
            margin: 0px;
            padding: 0px;
        }

        blockquote, q {
            quotes: none;
        }

            blockquote:before, blockquote:after, q:before, q:after {
                content: '';
                content: none;
            }

        table {
            border-collapse: collapse;
            border-spacing: 0;
        }
        /* start editing from here */
        a {
            text-decoration: none;
        }

        .text-danger ul li {
            color: #b75959;
            font-family: 'Roboto';
        }

        .txt-rt {
            text-align: right;
        }
        /* text align right */
        .txt-lt {
            text-align: left;
        }
        /* text align left */
        .txt-center {
            text-align: center;
        }
        /* text align center */
        .float-rt {
            float: right;
        }
        /* float right */
        .float-lt {
            float: left;
        }
        /* float left */
        .clear {
            clear: both;
        }
        /* clear float */
        .pos-relative {
            position: relative;
        }
        /* Position Relative */
        .pos-absolute {
            position: absolute;
        }
        /* Position Absolute */
        .vertical-base {
            vertical-align: baseline;
        }
        /* vertical align baseline */
        .vertical-top {
            vertical-align: top;
        }
        /* vertical align top */
        nav.vertical ul li {
            display: block;
        }
        /* vertical menu */
        nav.horizontal ul li {
            display: inline-block;
        }
        /* horizontal menu */
        img {
            max-width: 100%;
        }
        /*end reset*/

        @@font-face {
            font-family: Roboto;
            src: url('/Content/fonts/roboto-v18-latin-regular.woff');
        }

        body p, h1, h2, h3, h4, h5, h6, a, div, span {
            font-family: 'Roboto', sans-serif;
        }

        body { /*--
        background:pink;
        */
            background: url('/Content/images/login/login-bg.jpg') no-repeat 62% 34%;
            background-size: cover;
            text-align: center;
        }
        /*--header--*/
        .agileheader h1 {
            font-size: 30px;
            text-transform: uppercase;
            letter-spacing: 10px;
            color: #fff;
            font-weight: 600;
            margin: 30px 0px;
        }

        .agileheader img {
            margin-bottom: -30px;
        }

        .w3layouts-main h2 {
            color: #fff;
            font-size: 29px;
            letter-spacing: 2px;
            text-transform: uppercase;
            padding-bottom: 15px;
        }

        .w3layouts-main {
            width: 25%;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.5);
            padding: 42px 35px;
        }
        /*--//header--*/
        /*--main--*/
        input.k-textbox[type="email"], input.k-textbox[type="password"] {
            width: 88%;
            padding-left: 42px;
            border: 1px solid #fff;
            outline: none;
            font-size: 14px;
            color: #fff;
            margin: 14px 0px;
            font-family: 'Roboto', sans-serif;
            background-color: rgba(0,0,0,0.5);
        }

        input.k-textbox[type="email"] {
            /*background: url("/Content/images/login/mail.png") no-repeat 10px;
            background-size: 24px;*/
            /*-webkit-appearance:none;*/
        }

        input.k-textbox[type="password"] {
            /*background: url("/Content/images/login/pass.png") no-repeat 8px;
            background-size: 28px;*/
            /*-webkit-appearance: none;*/
        }


        .w3layouts-main span:not(.k-invalid-msg):not(.k-i-warning) {
            font-size: 16px;
            color: #fff;
            float: left;
            width: 32%;
            margin-top: 8px;
            font-family: 'Roboto', sans-serif;
        }

        .w3layouts-main h6 {
            font-size: 16px;
            float: right;
            width: 37%;
            color: #fff;
            letter-spacing: 1px;
            margin-top: 8px;
            text-decoration: underline;
        }

        .w3layouts-main a {
            color: #fff;
            text-decoration: underline;
            transition: 0.5s all;
            -webkit-transition: 0.5s all;
            -o-transition: 0.5s all;
            -moz-transition: 0.5s all;
            -ms-transition: 0.5s all;
        }

            .w3layouts-main a:hover {
                color: rgba(208, 95, 216, 0.9);
                transition: 0.5s all;
                -webkit-transition: 0.5s all;
                -o-transition: 0.5s all;
                -moz-transition: 0.5s all;
                -ms-transition: 0.5s all;
            }

        input[type="submit"] {
            padding: 12px 38px;
            font-size: 18px;
            text-transform: uppercase;
            letter-spacing: 2px;
            background: #003b64;
            color: white;
            border: none;
            outline: none;
            cursor: pointer;
            font-family: 'Roboto', sans-serif;
            margin: 45px auto 31px;
            transition: 0.5s all;
            -webkit-transition: 0.5s all;
            -o-transition: 0.5s all;
            -moz-transition: 0.5s all;
            -ms-transition: 0.5s all;
        }

            input[type="submit"]:hover {
                background: rgba(213, 38, 133, 0.64);
                transition: 0.5s all;
                -webkit-transition: 0.5s all;
                -o-transition: 0.5s all;
                -moz-transition: 0.5s all;
                -ms-transition: 0.5s all;
            }

        .w3layouts-main p a {
            text-transform: uppercase;
            font-size: 18px;
            text-decoration: underline;
            letter-spacing: 1px;
            color: #fff;
            padding: 10px;
        }

        .w3layouts-main p {
            font-size: 17px;
            color: #fff;
        }
        /*--//main--*/

        /*--footer--*/
        .footer-w3l p {
            margin: 4em 0em;
            color: #fff;
            font-size: 15px;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .footer-w3l a {
            color: #fff;
        }

            .footer-w3l a:hover {
                color: rgba(208, 95, 216, 0.9);
                transition: 0.5s all;
                -webkit-transition: 0.5s all;
                -o-transition: 0.5s all;
                -moz-transition: 0.5s all;
                -ms-transition: 0.5s all;
            }
        /*--//footer--*/

        /*--responsive--*/
        @@media(max-width:1440px) {
            .w3layouts-main {
                width: 28%;
            }
        }

        @@media(max-width:1366px) {
            .w3layouts-main {
                width: 30%;
            }
        }

        @@media(max-width:1280px) {
            .w3layouts-main {
                width: 33%;
            }

            .agileheader h1 {
                font-size: 41px;
            }

            .w3layouts-main h2 {
                font-size: 27px;
            }
        }

        @@media(max-width:1080px) {
            .w3layouts-main {
                width: 49%;
            }
        }

        @@media(max-width:1024px) {
            .w3layouts-main {
                width: 40%;
            }
        }

        @@media(max-width:991px) {
            .w3layouts-main {
                width: 42%;
            }

            .agileheader h1 {
                font-size: 38px;
            }

            .w3layouts-main h2 {
                font-size: 25px;
            }
        }

        @@media(max-width:800px) {
            .w3layouts-main {
                width: 51%;
            }

            .agileheader h1 {
                font-size: 34px;
                letter-spacing: 9px;
            }

            .w3layouts-main h2 {
                font-size: 23px;
            }
        }

        @@media(max-width:768px) {
            .w3layouts-main {
                width: 54%;
            }

            .agileheader h1 {
                font-size: 33px;
                letter-spacing: 8px;
            }

            .w3layouts-main h2 {
                font-size: 22px;
            }

            .footer-w3l {
                padding: 2em 0em 8.7em;
            }
        }

        @@media(max-width:736px) {
            .w3layouts-main {
                width: 56%;
            }

            .agileheader h1 {
                margin: 60px 0px;
            }

            .footer-w3l {
                padding: 0em;
            }
        }

        @@media(max-width:667px) {
            .w3layouts-main {
                width: 61%;
            }

            .agileheader h1 {
                font-size: 31px;
            }

            .w3layouts-main h2 {
                font-size: 21px;
            }

            .agileheader h1 {
                margin: 52px 0px;
            }
        }

        @@media (max-width: 640px) {
            .w3layouts-main {
                width: 64%;
            }
        }

        @@media (max-width: 600px) {
            .w3layouts-main {
                width: 69%;
            }

            .footer-w3l p {
                margin: 3em 0.3em;
                line-height: 2;
            }

            .agileheader h1 {
                font-size: 29px;
                letter-spacing: 7px;
            }
        }

        @@media (max-width: 568px) {
            .w3layouts-main {
                width: 73%;
            }

                .w3layouts-main p a {
                    font-size: 17px;
                }

            .agileheader h1 {
                font-size: 28px;
            }

            .w3layouts-main h2 {
                font-size: 20px;
            }
        }

        @@media (max-width: 480px) {
            .agileheader h1 {
                font-size: 26px;
                letter-spacing: 6px;
            }

            .w3layouts-main h2 {
                font-size: 19px;
            }

            .w3layouts-main span {
                width: 38%;
                font-size: 15px;
            }

            .w3layouts-main h6 {
                width: 44%;
                font-size: 15px;
            }

            .w3layouts-main p {
                font-size: 16px;
                width: 105%;
            }

                .w3layouts-main p a {
                    font-size: 17px;
                    letter-spacing: 0px;
                }

            input[type="submit"] {
                font-size: 17px;
            }

            input[type="email"], input[type="password"] {
                width: 86%;
            }

            .footer-w3l p {
                letter-spacing: 1px;
            }
        }

        @@media (max-width: 414px) {
            .agileheader h1 {
                font-size: 25px;
                letter-spacing: 4px;
                margin: 34px 0px;
            }

            .w3layouts-main h2 {
                font-size: 18px;
            }

            .w3layouts-main {
                padding: 34px 26px;
            }

                .w3layouts-main span {
                    font-size: 15px;
                    width: 41%;
                    margin-top: 9px;
                }

            input[type="email"], input[type="password"] {
                width: 84%;
                padding: 13px 0px 13px 40px;
                margin: 10px 0px;
            }

            .w3layouts-main h6 {
                font-size: 15px;
                width: 48%;
                margin-top: 9px;
            }

            .w3layouts-main p {
                width: 95%;
                line-height: 32px;
            }

                .w3layouts-main p a {
                    font-size: 16px;
                    letter-spacing: 1px;
                }

            .footer-w3l p {
                margin: 2em 0.6em;
                line-height: 1.8;
            }

            input[type="submit"] {
                margin: 45px auto 25px;
            }

            .footer-w3l p {
                margin: 2em 1.7em;
                line-height: 2;
                letter-spacing: 0px;
            }

            .footer-w3l {
                padding: 0.8em 0em;
            }
        }

        @@media (max-width: 384px) {
            .agileheader h1 {
                font-size: 23px;
                margin: 31px 0px;
            }

            .w3layouts-main {
                padding: 30px 26px;
            }

            input[type="email"], input[type="password"] {
                margin: 10px 0px;
                width: 83%;
                padding: 10px 0px 10px 39px;
                background-color: rgba(0,0,0,0.5);
            }

            input[type="email"] {
                /*background: url("/Content/images/login/mail.png") no-repeat 9px 8px;
                background-size: 22px;*/
            }

            input[type="password"] {
                /*background: url("/Content/images/login/pass.png") no-repeat 6px 6px;
                background-size: 26px;*/
            }

            .w3layouts-main span {
                width: 44%;
                margin-top: 12px;
            }

            .w3layouts-main h6 {
                width: 51%;
                margin-top: 12px;
            }

            input[type="submit"] {
                padding: 12px 52px;
                font-size: 17px;
                letter-spacing: 1px;
                margin: 34px auto 28px;
            }

            .w3layouts-main p {
                width: 102%;
                line-height: 29px;
            }

            .footer-w3l p {
                line-height: 27px;
            }
        }

        @@media (max-width: 375px) {
            .agileheader h1 {
                margin: 32px 0px;
            }

            .w3layouts-main span {
                width: 45%;
                margin-top: 10px;
            }

            .w3layouts-main h6 {
                width: 53%;
                margin-top: 10px;
                font-size: 14px;
            }

            .w3layouts-main {
                padding: 24px 34px;
                width: 65%;
            }

                .w3layouts-main span {
                    width: 100%;
                }

                .w3layouts-main h6 {
                    width: 100%;
                }

                .w3layouts-main h2 {
                    letter-spacing: 1px;
                }

            input[type="submit"] {
                padding: 12px 33px;
                font-size: 15px;
                letter-spacing: 0px;
                margin: 21px auto 12px;
            }

            .w3layouts-main p {
                width: 100%;
                line-height: 28px;
            }

            .footer-w3l p {
                line-height: 29px;
            }

            .footer-w3l {
                padding: 0.7em;
            }

            input[type="email"], input[type="password"] {
                width: 82%;
            }
        }

        @@media (max-width: 320px) {
            .agileheader h1 {
                font-size: 20px;
                margin: 20px 0px;
                letter-spacing: 3px;
            }

            .w3layouts-main h2 {
                font-size: 17px;
                letter-spacing: 0px;
            }

            .w3layouts-main {
                padding: 24px 28px;
                width: 73%;
            }

            input[type="email"], input[type="password"] {
                width: 81%;
                padding: 12px 0px 12px 38px;
                background-color: rgba(0,0,0,0.5);
            }

            input[type="email"] {
                /*background: url("/Content/images/login/mail.png") no-repeat 8px 9px;
                background-size: 23px;*/
            }

            input[type="password"] {
                /*background: url("/Content/images/login/pass.png") no-repeat 6px 6px;
                background-size: 26px;*/
            }

            .w3layouts-main span {
                font-size: 14px;
            }

            input[type="submit"] {
                font-size: 15px;
            }

            .w3layouts-main p {
                font-size: 15px;
            }

                .w3layouts-main p a {
                    font-size: 15px;
                    letter-spacing: 0px;
                }

            .footer-w3l p {
                letter-spacing: 0px;
                line-height: 27px;
                margin: 0em 0.5em;
            }

                .footer-w3l p a {
                    color: #ffffff;
                }
        }

        span.k-invalid-msg {
            position: absolute;
            font-family: 'Roboto', sans-serif;
        }

        .k-textbox {
            font-size: 14px !important;
        }

        /* Change autocomplete styles in chrome */
        input:-webkit-autofill, input:-webkit-autofill:focus, input:-webkit-autofill:hover {
            -webkit-text-fill-color: white;
            -webkit-box-shadow: 0 0 0px 1000px rgba(255,255,255,0.1) inset !important;
            transition: background-color 5000s ease-in-out 0s;
        }

        #frmApplicationIssueRegistration input#CreatedBy:-webkit-autofill, #frmApplicationIssueRegistration input#CreatedBy:-webkit-autofill:focus, #frmApplicationIssueRegistration input#CreatedBy:-webkit-autofill:hover {
            -webkit-text-fill-color: black;
            -webkit-box-shadow: 0 0 0px 1000px rgba(255,255,255,0.1) inset !important;
            transition: background-color 5000s ease-in-out 0s;
        }

        .password-icon {
            background: url("/Content/images/login/pass.png") no-repeat 8px;
            background-size: 28px;
            background-position: center center;
            float: left;
            width: 28px;
            height: 22px;
            margin-top: 22px;
            position: relative;
            left: 50px;
            z-index: 99;
        }

        .email-icon {
            background: url(/Content/images/login/mail.png) no-repeat 10px;
            background-size: 24px;
            background-position: center center;
            float: left;
            width: 24px;
            height: 18px;
            margin-top: 22px;
            position: relative;
            left: 50px;
            z-index: 99;
        }


        k-widget.k-tooltip {
            font-size: 12px;
            top: 0;
        }

        .k-widget.k-tooltip .k-tooltip-content {
            padding-right: 0;
            padding: 0 30px;
        }

        .k-widget.k-tooltip .image-wrapper {
            width: 100px;
            height: 100px;
            margin: 25px auto 10px;
            border-radius: 50%;
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.15);
            background-color: rgba(104, 105, 111, 0.7);
        }

            .k-widget.k-tooltip .image-wrapper img {
                width: 102%;
                margin-top: -5%;
            }

            .k-widget.k-tooltip .image-wrapper p {
                color: #fff;
                font-size: 72px;
                margin-top: 40px;
            }

        .k-widget.k-tooltip .k-tooltip-content > p {
            margin: 0px;
        }

        .k-widget.k-tooltip .k-tooltip-content #reset-password {
            margin-bottom: 5px;
        }

        .k-widget.k-tooltip .k-callout-n {
            top: -9px;
            border-bottom-color: #fff;
            border-width: 0 9px 9px 9px;
            margin-left: -8px;
        }

        .k-widget.k-tooltip .name {
            font-size: 15px;
            margin: 5px;
        }

        .k-widget.k-tooltip #signInButton {
            margin: 40px 0;
            padding: 5px 30px;
            white-space: nowrap;
            font-size: 14px;
            background: #1e8edf;
            border-color: #1e8edf;
        }

    </style>


</head>

<body>
    <!--header-->
    <div class="agileheader">
        <img src="~/Content/images/login/login-logo.png" />
        <h1>Fleet Management System</h1>
    </div>
    <!--//header-->
    <!--main-->
    <div class="main-w3l">
        <div class="w3layouts-main">
            <div id="progressIndicator"></div>

            @(Html.Kendo().Notification()
                                .Name("notifyPopup")
                                .Animation(animation => animation
                                        .Open(effect =>
                                            effect.SlideIn(SlideDirection.Left)
                                        )
                                        .Close(effect =>
                                            effect.SlideIn(SlideDirection.Left).Reverse(true)
                                        )
                                )
                                .Position(p => p.Pinned(true).Top(30).Right(30))
                                .Stacking(NotificationStackingSettings.Down)
                                .Templates(t =>
                                {
                                    t.Add().Type("info").ClientTemplateID("infoTemplate");
                                    t.Add().Type("error").ClientTemplateID("errorTemplate");
                                    t.Add().Type("success").ClientTemplateID("successTemplate");
                                })


            )

            <script type="text/javascript">
                $(document).ready(function () {

                    App.notification = $("#notifyPopup").data("kendoNotification");
                    App.notificationMessage = '@ViewBag.NotificationMessage';
                    App.notificationIsError = '@ViewBag.NotificationIsError';
                });

            </script>
            <h2>Login Now</h2>

            @using (Html.BeginForm("Login", "Security", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { id = "frmLogin", role = "form", @autocomplete = "off" }))
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })



                <div class="email-icon"></div>
                @(Html.Kendo().TextBoxFor(m => m.Email)
                    .HtmlAttributes(new { type = "email", autocomplete = "off" })

                )
                <span class="k-invalid-msg" data-for="Email"></span>

                <div class="clear"></div>
                <div class="password-icon"></div>
                @(Html.Kendo().TextBoxFor(m => m.Password)
                    .HtmlAttributes(new { type = "password", autocomplete = "new-password" })

                )
                <span class="k-invalid-msg" data-for="Password"></span>

                <span><input id="RememberMe" data-val="true" name="RememberMe" value="true" type="checkbox" />Remember Me</span>
                <input type="hidden" name="RememberMe" value="false" />
                <h6><a id="forgotPasswordLink" href="@Url.Action("ForgotPassword", "Security")">Forgot Password?</a></h6>
                <div class="clear"></div>
                <input id="btnLogin" type="submit" value="login" name="login">
                <div id="loginValidation" style="color:red"></div>
            }
            <p>Don't Have an Account ?<a id="registerLink" href="#">Register Now</a></p>
        </div>

        <div id="wndApplicationIssue"></div>
    </div>
    <!--//main-->
    <!--footer-->
    <div class="footer-w3l">
        <p>Fleet Management System. &copy; @DateTime.Now.Year. PNG Power Limited. All rights reserved. System Developed by <a target="_blank" href="http://www.cloudcode.com.pg">Cloudcode PNG Limited</a>.</p>
    </div>
    <!--//footer-->


    <!-- #region Script Templates -->

    <script id="infoTemplate" type="text/x-kendo-template">
        <div class="info-notification">
            <img src='@Url.Content("~/Content/images/notification/envelope.png")' />
            <p>#= message #</p>
        </div>
    </script>

    <script id="errorTemplate" type="text/x-kendo-template">
        <div class="error-notification">
            <img src='@Url.Content("~/Content/images/notification/error-icon.png")' />
            <p>#= message #</p>
        </div>
    </script>

    <script id="successTemplate" type="text/x-kendo-template">
        <div class="success-notification">
            <img src='@Url.Content("~/Content/images/notification/success-icon.png")' />
            <p>#= message #</p>
        </div>
    </script>

    <!-- #endregion -->

    <script type="text/javascript">

        var wndApplicationIssue;

        function initializeApplicationIssueModelWindow() {

            $("#frmApplicationIssueRegistration").submit(function (event) {
                event.preventDefault();
                ajaxCreateUpdate(this, $("#frmApplicationIssueRegistration #Id").val(), "Home", "CreateApplicationIssue", "", "", wndApplicationIssue);
            });



            $("#btnClose").click(function (e) {
                e.preventDefault();
                wndApplicationIssue.close();
            });


        }

        $(document).ready(function () {

            var validator = $("form").kendoValidator().data("kendoValidator");

            $("#registerLink").click(function (e) {

                e.preventDefault();

                //the bound refresh method of the window object is fired here
                wndApplicationIssue.refresh({
                    url: "/Home/ApplicationAccessRequest",
                    beforeSend: function (xhr) {
                        //show progress bar
                        kendo.ui.progress($("#progressIndicator"), true);
                    },
                    complete: function (xhr, status) {
                        kendo.ui.progress($("#progressIndicator"), false);
                    }
                });

            });

            $("form").submit(function (e) {
                if (validator.validate()) {

                }
                else {
                    e.preventDefault();
                }
            });


            //initialize the kendo vehicle disposal modal window
            wndApplicationIssue = $("#wndApplicationIssue").kendoWindow({
                title: "Register Application Service/Incidient Request",
                modal: true,
                visible: false,
                resizable: false,
                width: 450
            }).data("kendoWindow");

            //because you are loading a view through an action, use the bind to the "refresh" function
            wndApplicationIssue.bind("refresh", function (e) {
                initializeApplicationIssueModelWindow();
                //NB: need to put the center open window in the refresh method coz if you put it outside, the center window fires b4 content is loaded and messes up the UI
                wndApplicationIssue.center().open();
            });
        });
    </script>


</body>


</html >

